Processing Sales Transactions Pseudocode

FUNCTION newItemSearch() // function to handle if the item is not in inventory or not enough quantity in inventory
    DECLARE itemSearch = TRUE
    DISPLAY Would you like to complete a new item search? (y/n)
    INPUT userInput
    IF userInput == "n" THEN
        itemSearch = FALSE
    ENDIF
    RETURN itemSearch
ENDFUNCTION

FUNCTION continueShopping() // function used as an exit condition for a the adding items to cart loop
    DECLARE continueToShop = TRUE
    DISPLAY Continue Shopping? (y/n)
    INPUT userInput
    IF userInput == "n" THEN
        continueToShop = FALSE
    ENDIF
    RETURN continueToShop
ENDFUNCTION

FUNCTION discountCalculation(Price) // function to calculate discount and return that cost 
    DECLARE discount = 10%
    discountPrice = Price * discount
    totalCost = Price - discountPrice
    RETURN totalCost
ENFUNCTION

FUNCTION salesReceipt(userOrder) // takes in the user order to display a sales receipt to then save to sales_data.csv
    DEFINE salesReceipt (Product Names, Quantities, Individual Prices, totalCost)
    SET salesReceipt = userOrder
    DISPLAY Thank you for your order.
    DISPLAY salesReceipt
    RETURN
END

START
DEFINE salesReceipt // userOrder after calculation of cost
Declare Inventory = {inventoryData}  // stores available inventory (Product ID,Product Name,Category,Quantity,Price)
DECLARE Cart = [Empty list]  // stores users items while they shop
    DO 
        INPUT ProductID
            IF ProductID IN Inventory THEN 
                INPUT Quantity
                    IF Quantity IN Inventory THEN
                        SET Cart = [ProductID:Quantity]
                    ELIF Quantity > Inventory THEN
                        DISPLAY length(Quantity) IN Inventory
                        DISPLAY Would you like to add available amount? (y/n)
                            IF userInput == "y" THEN
                                SET Quantity = quantityInInventory
                                SET Cart [ProductID:Quantity]
                            ELSE userInput == "n" THEN
                                CALL newItemSearch
                            ENDIF
                    ELSE Quantity NOT IN Inventory
                        DISPLAY Item not in stock
                        CALL newItemSearch
                    ENDIF
            ELSE
                DISPLAY Item not found
                CALL newItemSearch
            END IF
        CALL continueToShop
    UNTIL itemSearch OR continueToShop = FALSE
    User to check out
    IF user has login THEN
        user logs in
            DO
                INPUT username
                INPUT password
            UNTIL credentials are valid
    ELSE
        user creates account
            DO
                INPUT email
                INPUT username
                INPUT password
                INPUT paymentInformation
                verification sent to email
            UNTIL credentials are verified
    ENDIF
    SET totalCost = 0
    totalCost = Cart[Quantity] * Inventory[Individual Prices]
    IF Quantity > 5
        CALL discountCalculation
    END IF
    SET userOrder = [Product Names, Quantities, Individual Prices, totalCost]
    CALL salesReceipt(userOrder)
    SAVE userOrder to sales_data.csv
    FROM Inventory remove userOrder[Quantity]
END


Generating Sales Receipt module
FUNCTION salesReceipt(userOrder)
    DEFINE salesReceipt (Product Names, Quantities, Individual Prices, totalCost)
    SET salesReceipt = userOrder
    DISPLAY Thank you for your order.
    DISPLAY salesReceipt
    RETURN
END

Calculating discount module
FUNCTION discountCalculation(Price)
    DECLARE discount = 10%
    discountPrice = Price * discount
    totalCost = Price - discountPrice
    RETURN totalCost
ENFUNCTION
